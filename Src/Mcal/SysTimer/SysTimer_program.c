/**********************************************************************************************************************
 *  FILE DESCRIPTION
 *  -----------------------------------------------------------------------------------------------------------------*/
/**        \file  SysTimer_program.c
 *        \brief  
 *
 *      \details  
 *
 *
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  INCLUDES
 *********************************************************************************************************************/
#include "Std_Types.h"
#include "SysTimer_header.h"
#include "SysTimer_private.h"
#include "SysTimer_config.h"

/**********************************************************************************************************************
*  LOCAL MACROS CONSTANT\FUNCTION
*********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL DATA 
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL DATA
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL FUNCTION PROTOTYPES
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL FUNCTIONS
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL FUNCTIONS
 *********************************************************************************************************************/
void SysTimerInit(void)
{/*
	1. Program the value in the STRELOAD register.
	*/
	STRELOAD = RELODVALUE;
	/*
2. Clear the STCURRENT register by writing to it with any value.
	*/
	STCURRENT = RELODVALUE;
	/*
3. Configure the STCTRL register for the required operation.
Note: When the processor is halted for debugging, the counter does not decrement.
June
	*/
if (SysTimerEN ==1 )
	STCTRL |= 1;


if (SysTimerINTEN ==1 )
	STCTRL |= (1<<1);

if (CLK_SRC ==1)
	STCTRL |= (1<<2);
else
	STCTRL &= ~(1<<2);
}

void SysTimer_SetCallBack(void(*CallBack)(void))
{
	SysTimer_CALLBACK_FUNCITON =CallBack;
}

void SysTick_Handler(void)
{
	if(SysTimer_CALLBACK_FUNCITON != 0)
		SysTimer_CALLBACK_FUNCITON();
	
}


/**********************************************************************************************************************
 *  END OF FILE: FileName.c
 *********************************************************************************************************************/
